const express = require('express');
const cors = require('cors');
const app = express();
app.use(cors());
app.use(express.json());
app.use(express.urlencoded({ extended: true }));

let arrCategory = [
    { id: '1c', name: 'Бургеры', products: [1, 2, 3, 4, 5, 6] },
    { id: '2c', name: 'Твистеры', products: [7, 8, 9, 10, 11, 12] },
    { id: '3c', name: 'Курица', products: [13, 14, 15, 16, 17, 18] },
    { id: '4c', name: 'Хиты', products: [4, 5, 7, 14, 16] },
    { id: '5c', name: 'Новое', products: [2, 3, 8, 13, 15] }
]

let products = [
    { id: 1, name: 'Бургер', price: 100, delivery: false, img: 'https://s99vla.storage.yandex.net/rdisk/e6b337aed777def4df99c2ef642aa1893bac2780229e8cc1742d6bfb19c19d7e/60d8815a/nQLlCqxfoRsiPC7jRyTMiUV9H1dFOxVW5rmXN8LV4v82gUBvnF1Oh4Hr0kzsqfPPICQbgaOWlKJwPPiPWzhaHA==?uid=808722472&filename=burger.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=60731&hid=45edba6fcb0af3f1db975070ff33b863&media_type=image&tknv=v2&etag=015405ce63dd81441544e232e2932c6e&rtoken=KomcxLfluG4w&force_default=yes&ycrid=na-4cb0728920e4b28ba3ff00f7cb4d3dbe-downloader9f&ts=5c5bf9bbf8a80&s=ce75fd6241d330c9d3db48f9fbae35a3cca794cc4a78a410ad89d6fa7679f3b3&pb=U2FsdGVkX1-Zi9R63iP9TmcEMHBkV-C95uUUZk8NnE61k-gp0k07vDnl2YmaMf2cpfPoZ-KMb861RKfEunlYWADR6HkC7vyVv0YpDUlMMzA' },
    { id: 2, name: 'Бургер', price: 100, delivery: true, img: 'https://s187i.storage.yandex.net/rdisk/c5d27b1a254465217b8c1b6d8d143f6efc3907344ac4cfe5b279d77a3948677e/60d88067/nQLlCqxfoRsiPC7jRyTMiRjsEXfws-j2y1mkAa7Sit6DcwDr2cKIzr0QdU_l1gNG-nSAkBzl5LzHScsj7r525w==?uid=0&filename=newBurger.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=0&fsize=62132&hid=50ed5203e7851ba7a00c361faa5d1d09&media_type=image&tknv=v2&etag=f0afca9523fe458145f5462ba0d876fd&rtoken=5b769F4n3xkz&force_default=no&ycrid=na-bd0dc0cec7da0f1ef83301a8e327c063-downloader4f&ts=5c5bf8d43a7c0&s=2175f5a484b7784dc2b444d7ba859ece4130a483da1c64b53ac6fb7fcb412b2e&pb=U2FsdGVkX18LPKTEAOfyTjAohu7QMKwvkgVdLreUFG9ZtCGf_STx4PbCoMJ_4HX6lpfNHOLuw-SptKrCc5eQncRkNTd5e1IdBMpcd1iDTFk' },
    { id: 3, name: 'Бургер', price: 100, delivery: false, img: 'https://s187i.storage.yandex.net/rdisk/c5d27b1a254465217b8c1b6d8d143f6efc3907344ac4cfe5b279d77a3948677e/60d88067/nQLlCqxfoRsiPC7jRyTMiRjsEXfws-j2y1mkAa7Sit6DcwDr2cKIzr0QdU_l1gNG-nSAkBzl5LzHScsj7r525w==?uid=0&filename=newBurger.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=0&fsize=62132&hid=50ed5203e7851ba7a00c361faa5d1d09&media_type=image&tknv=v2&etag=f0afca9523fe458145f5462ba0d876fd&rtoken=5b769F4n3xkz&force_default=no&ycrid=na-bd0dc0cec7da0f1ef83301a8e327c063-downloader4f&ts=5c5bf8d43a7c0&s=2175f5a484b7784dc2b444d7ba859ece4130a483da1c64b53ac6fb7fcb412b2e&pb=U2FsdGVkX18LPKTEAOfyTjAohu7QMKwvkgVdLreUFG9ZtCGf_STx4PbCoMJ_4HX6lpfNHOLuw-SptKrCc5eQncRkNTd5e1IdBMpcd1iDTFk' },
    { id: 4, name: 'Бургер', price: 100, delivery: false, img: 'https://s553sas.storage.yandex.net/rdisk/ca4ab4cedc24fbcd78e7279464bf4465cfeae32198434c17727a513feca3c182/60d88187/nQLlCqxfoRsiPC7jRyTMidWHOsbFhxpEK8knCUOofvwssYCRX0njU5f18-cvgwqs0vNP3v0ck36HrIKglIgJpw==?uid=808722472&filename=hitBurger.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=61586&hid=30c2f8881fc761e868dd780c219612bb&media_type=image&tknv=v2&etag=7a2ebf131837d478aa3d039fe6b6a27b&rtoken=kYi2OKlIGjRb&force_default=yes&ycrid=na-c5e9f2ba3e8171fb27a1a50699e05b63-downloader7h&ts=5c5bf9e6e2fc0&s=c02661b71058cfa79e3d1c7f30e4593b9e85e9e10c904c360c8ec44a4a2652ac&pb=U2FsdGVkX1_DwJBarX9ifoayrgaylmbqmhuMrQO3YSqzLkH7v41jcUoKYWaLhp9TT1xAQ-9Y8SdKZHtNmn59p4aoz-IS5RnBOA4milO2p88' },
    { id: 5, name: 'Бургер', price: 100, delivery: true, img: 'https://s553sas.storage.yandex.net/rdisk/ca4ab4cedc24fbcd78e7279464bf4465cfeae32198434c17727a513feca3c182/60d88187/nQLlCqxfoRsiPC7jRyTMidWHOsbFhxpEK8knCUOofvwssYCRX0njU5f18-cvgwqs0vNP3v0ck36HrIKglIgJpw==?uid=808722472&filename=hitBurger.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=61586&hid=30c2f8881fc761e868dd780c219612bb&media_type=image&tknv=v2&etag=7a2ebf131837d478aa3d039fe6b6a27b&rtoken=kYi2OKlIGjRb&force_default=yes&ycrid=na-c5e9f2ba3e8171fb27a1a50699e05b63-downloader7h&ts=5c5bf9e6e2fc0&s=c02661b71058cfa79e3d1c7f30e4593b9e85e9e10c904c360c8ec44a4a2652ac&pb=U2FsdGVkX1_DwJBarX9ifoayrgaylmbqmhuMrQO3YSqzLkH7v41jcUoKYWaLhp9TT1xAQ-9Y8SdKZHtNmn59p4aoz-IS5RnBOA4milO2p88' },
    { id: 6, name: 'Бургер', price: 100, delivery: true, img: 'https://s99vla.storage.yandex.net/rdisk/e6b337aed777def4df99c2ef642aa1893bac2780229e8cc1742d6bfb19c19d7e/60d8815a/nQLlCqxfoRsiPC7jRyTMiUV9H1dFOxVW5rmXN8LV4v82gUBvnF1Oh4Hr0kzsqfPPICQbgaOWlKJwPPiPWzhaHA==?uid=808722472&filename=burger.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=60731&hid=45edba6fcb0af3f1db975070ff33b863&media_type=image&tknv=v2&etag=015405ce63dd81441544e232e2932c6e&rtoken=KomcxLfluG4w&force_default=yes&ycrid=na-4cb0728920e4b28ba3ff00f7cb4d3dbe-downloader9f&ts=5c5bf9bbf8a80&s=ce75fd6241d330c9d3db48f9fbae35a3cca794cc4a78a410ad89d6fa7679f3b3&pb=U2FsdGVkX1-Zi9R63iP9TmcEMHBkV-C95uUUZk8NnE61k-gp0k07vDnl2YmaMf2cpfPoZ-KMb861RKfEunlYWADR6HkC7vyVv0YpDUlMMzA' },
    { id: 7, name: 'Твистер', price: 100, delivery: false, img: 'https://s191vla.storage.yandex.net/rdisk/21d8a1c1d18c04dc6dcf2aa98f2837b4315d081aa1b72a5be6196a6001c11fd6/60d88214/nQLlCqxfoRsiPC7jRyTMibpkknfOIm0Qy6HDpU4CPxwZIV2PmhGVp3WuxanFsckB2pU5PnZ1noXuYmSBd6L17w==?uid=808722472&filename=hitTwister.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=42393&hid=7590fabd6644c0d31167301f3469fa7e&media_type=image&tknv=v2&etag=f9ed701979944a149c02755710416917&rtoken=AymX5axLxChW&force_default=yes&ycrid=na-6fe34c302e0612e6cfacedd2ffa2fc9c-downloader21e&ts=5c5bfa6d5ad00&s=d41db2ef085e404721b21d197288bc02ca7f647f61f417403970da5ff049fa4f&pb=U2FsdGVkX1_9NBYBanZwKFBb_j21-fVje2etv2YJ0lrZQo_VqGGyosuXDZYQmbidA7Uf6azAWpczicLG2S2hn3K_jrbfDjMR0YOMTUrb1gQ' },
    { id: 8, name: 'Твистер', price: 100, delivery: true, img: 'https://s197vla.storage.yandex.net/rdisk/3c26dcc79b225d548221ce315306a2949795890a911990584ec6bb24fef30add/60d881f6/nQLlCqxfoRsiPC7jRyTMidV0tciTjcuGpSWesRzQWjcvdnupzxNC1TkvphP6Y-jy_KA3mxcKmrn02HVcEZ0Nlg==?uid=808722472&filename=newTwister.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=42942&hid=c90872bfedfe36429d8e1bf18056b9c7&media_type=image&tknv=v2&etag=fe6b7ddbdb343c4a0085042c8d36fdf1&rtoken=3RVLCD6QSWWE&force_default=yes&ycrid=na-4120265f9d881c8a68c03f400e5fc31c-downloader23h&ts=5c5bfa50be980&s=e2b8b4a1f521746c3a7de23a30bd4ed4cbf00fc772a816537f2f936123310842&pb=U2FsdGVkX18URBbG1_e2N_-R84NwPokLd4vAz-WuKWsDz9avqrXl11IQ1KtGf5uan2nq0VrLEIYHqDzzP6IRQuTJ4xB0UfSAK1Kk6DY_Rq8' },
    { id: 9, name: 'Твистер', price: 100, delivery: false, img: 'https://s578sas.storage.yandex.net/rdisk/4b9618ec5a30747aced9a2260e13da6d4da7bd4642d17cb16135e4554dd356e4/60d881c7/nQLlCqxfoRsiPC7jRyTMiZz_bKZigBvxe2GtvuOMs8hz9H1H1zPvoHfnuIAThTfgWNr5YdQbpaxQJ9ixpdEhMg==?uid=808722472&filename=twister.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=41352&hid=b977bd863d6b84ce27c1a5c179dd5455&media_type=image&tknv=v2&etag=ec560cc3a3d439ad7b104402bc1d21cc&rtoken=drxkIWgtRwmr&force_default=yes&ycrid=na-06a4a11050bd7790d0c974b3092b9b39-downloader3h&ts=5c5bfa23ebfc0&s=80a9ffca81050c45bf7eac768bb0bef073b2c06c969e9497a1ad7620ca620ded&pb=U2FsdGVkX1-f_XbBynO6UnLQkwwlWCSYCSY1B5I1Ya0Jre_1r-d-E7axtwFHDlBV_Olz04MASyJyY1GWzSazpmKq-1YzhIW7jv-txxa5Y4U' },
    { id: 10, name: 'Твистер', price: 100, delivery: true, img: 'https://s578sas.storage.yandex.net/rdisk/4b9618ec5a30747aced9a2260e13da6d4da7bd4642d17cb16135e4554dd356e4/60d881c7/nQLlCqxfoRsiPC7jRyTMiZz_bKZigBvxe2GtvuOMs8hz9H1H1zPvoHfnuIAThTfgWNr5YdQbpaxQJ9ixpdEhMg==?uid=808722472&filename=twister.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=41352&hid=b977bd863d6b84ce27c1a5c179dd5455&media_type=image&tknv=v2&etag=ec560cc3a3d439ad7b104402bc1d21cc&rtoken=drxkIWgtRwmr&force_default=yes&ycrid=na-06a4a11050bd7790d0c974b3092b9b39-downloader3h&ts=5c5bfa23ebfc0&s=80a9ffca81050c45bf7eac768bb0bef073b2c06c969e9497a1ad7620ca620ded&pb=U2FsdGVkX1-f_XbBynO6UnLQkwwlWCSYCSY1B5I1Ya0Jre_1r-d-E7axtwFHDlBV_Olz04MASyJyY1GWzSazpmKq-1YzhIW7jv-txxa5Y4U' },
    { id: 11, name: 'Твистер', price: 100, delivery: true, img: 'https://s578sas.storage.yandex.net/rdisk/4b9618ec5a30747aced9a2260e13da6d4da7bd4642d17cb16135e4554dd356e4/60d881c7/nQLlCqxfoRsiPC7jRyTMiZz_bKZigBvxe2GtvuOMs8hz9H1H1zPvoHfnuIAThTfgWNr5YdQbpaxQJ9ixpdEhMg==?uid=808722472&filename=twister.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=41352&hid=b977bd863d6b84ce27c1a5c179dd5455&media_type=image&tknv=v2&etag=ec560cc3a3d439ad7b104402bc1d21cc&rtoken=drxkIWgtRwmr&force_default=yes&ycrid=na-06a4a11050bd7790d0c974b3092b9b39-downloader3h&ts=5c5bfa23ebfc0&s=80a9ffca81050c45bf7eac768bb0bef073b2c06c969e9497a1ad7620ca620ded&pb=U2FsdGVkX1-f_XbBynO6UnLQkwwlWCSYCSY1B5I1Ya0Jre_1r-d-E7axtwFHDlBV_Olz04MASyJyY1GWzSazpmKq-1YzhIW7jv-txxa5Y4U' },
    { id: 12, name: 'Твистер', price: 100, delivery: false, img: 'https://s578sas.storage.yandex.net/rdisk/4b9618ec5a30747aced9a2260e13da6d4da7bd4642d17cb16135e4554dd356e4/60d881c7/nQLlCqxfoRsiPC7jRyTMiZz_bKZigBvxe2GtvuOMs8hz9H1H1zPvoHfnuIAThTfgWNr5YdQbpaxQJ9ixpdEhMg==?uid=808722472&filename=twister.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=41352&hid=b977bd863d6b84ce27c1a5c179dd5455&media_type=image&tknv=v2&etag=ec560cc3a3d439ad7b104402bc1d21cc&rtoken=drxkIWgtRwmr&force_default=yes&ycrid=na-06a4a11050bd7790d0c974b3092b9b39-downloader3h&ts=5c5bfa23ebfc0&s=80a9ffca81050c45bf7eac768bb0bef073b2c06c969e9497a1ad7620ca620ded&pb=U2FsdGVkX1-f_XbBynO6UnLQkwwlWCSYCSY1B5I1Ya0Jre_1r-d-E7axtwFHDlBV_Olz04MASyJyY1GWzSazpmKq-1YzhIW7jv-txxa5Y4U' },
    { id: 13, name: 'Курица', price: 100, delivery: true, img: 'https://s326sas.storage.yandex.net/rdisk/e7d8a1fcfa70b57717551eba16a2e63939908ff19f1fa3fc0628d066b00f5381/60d8826f/nQLlCqxfoRsiPC7jRyTMifivXAXFhnSvoIHim-qgYuRzvO3wTr47Z67RzpKzsXc_2HnNK5UeaJu9jeZApEC2BA==?uid=808722472&filename=new%D0%A1hicken.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=45763&hid=1c6262d1ba202eef1281875bd200964e&media_type=image&tknv=v2&etag=309af8b803cb89d2e05d76528303b4b5&rtoken=0qf04uKnXMwl&force_default=yes&ycrid=na-e1b3cc9d4b147b20fc8b43310879758d-downloader14e&ts=5c5bfac4239c0&s=6660911a1fb564f23da0d354bc1152727433d0df75d98f0195ab5b117bad5b3b&pb=U2FsdGVkX194eKRrl8_e253UAP4FGqE_23cqOwDc5TUNFpByJfoIwY4vwAAatRwGSONtcyPfCr6DhcPxCtLP5-1vUh3VigEg_FbvY0r5xg4' },
    { id: 14, name: 'Курица', price: 100, delivery: false, img: 'https://s327man.storage.yandex.net/rdisk/486263fed0506c5506ad8b20ff141162cab1035f781b9f38eed288a06a6c31ae/60d88249/nQLlCqxfoRsiPC7jRyTMia0zR9C-vN4p-Bp7XkM-aiuMvorIxIf8-Q0craZvKuRjZYLGxNTbp7DF203_YN2t4A==?uid=808722472&filename=hit%D0%A1hicken.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=45168&hid=dd5da5321649e630aeb76fabb60e7608&media_type=image&tknv=v2&etag=397cda7823d4a884017d41bd6ba82fe4&rtoken=AS3WfxzvKTNQ&force_default=yes&ycrid=na-b8696b20b6af2e9ad47b1f2883a452f0-downloader18f&ts=5c5bfa9fe6440&s=455a09c48eb5fa8beb1cb2a065d53e954530829c7a5a78437dcedd32fe46648d&pb=U2FsdGVkX1_F2lJv8VMF-tEUeqyDgO9pKaOBqQzwigjzLctylklAqrInpzU0ACGxb8C3fbTvBRun_HJpyLYj6aDFvkWVKO-frrli4gFKoM8' },
    { id: 15, name: 'Курица', price: 100, delivery: true, img: 'https://s326sas.storage.yandex.net/rdisk/e7d8a1fcfa70b57717551eba16a2e63939908ff19f1fa3fc0628d066b00f5381/60d8826f/nQLlCqxfoRsiPC7jRyTMifivXAXFhnSvoIHim-qgYuRzvO3wTr47Z67RzpKzsXc_2HnNK5UeaJu9jeZApEC2BA==?uid=808722472&filename=new%D0%A1hicken.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=45763&hid=1c6262d1ba202eef1281875bd200964e&media_type=image&tknv=v2&etag=309af8b803cb89d2e05d76528303b4b5&rtoken=0qf04uKnXMwl&force_default=yes&ycrid=na-e1b3cc9d4b147b20fc8b43310879758d-downloader14e&ts=5c5bfac4239c0&s=6660911a1fb564f23da0d354bc1152727433d0df75d98f0195ab5b117bad5b3b&pb=U2FsdGVkX194eKRrl8_e253UAP4FGqE_23cqOwDc5TUNFpByJfoIwY4vwAAatRwGSONtcyPfCr6DhcPxCtLP5-1vUh3VigEg_FbvY0r5xg4' },
    { id: 16, name: 'Курица', price: 100, delivery: false, img: 'https://s327man.storage.yandex.net/rdisk/486263fed0506c5506ad8b20ff141162cab1035f781b9f38eed288a06a6c31ae/60d88249/nQLlCqxfoRsiPC7jRyTMia0zR9C-vN4p-Bp7XkM-aiuMvorIxIf8-Q0craZvKuRjZYLGxNTbp7DF203_YN2t4A==?uid=808722472&filename=hit%D0%A1hicken.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=45168&hid=dd5da5321649e630aeb76fabb60e7608&media_type=image&tknv=v2&etag=397cda7823d4a884017d41bd6ba82fe4&rtoken=AS3WfxzvKTNQ&force_default=yes&ycrid=na-b8696b20b6af2e9ad47b1f2883a452f0-downloader18f&ts=5c5bfa9fe6440&s=455a09c48eb5fa8beb1cb2a065d53e954530829c7a5a78437dcedd32fe46648d&pb=U2FsdGVkX1_F2lJv8VMF-tEUeqyDgO9pKaOBqQzwigjzLctylklAqrInpzU0ACGxb8C3fbTvBRun_HJpyLYj6aDFvkWVKO-frrli4gFKoM8' },
    { id: 17, name: 'Курица', price: 100, delivery: true, img: 'https://s195i.storage.yandex.net/rdisk/aab88601eec1a0be3cc16afa7ee156d819646cafd5ad53277e7b27c255627a63/60d88230/nQLlCqxfoRsiPC7jRyTMiVP2_QovC7kFnP_slhVgjJXfShZbhFCTdT9bhDMrJJRT0C0IB87CLdGGYHZ7zY3M1Q==?uid=808722472&filename=chicken.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=44209&hid=178a96c92ec2174ca594ddbd681228bd&media_type=image&tknv=v2&etag=b1fb539a4da73b8e63371fb1fa08e499&rtoken=q4R3Cb2vhfKD&force_default=yes&ycrid=na-729a57e1c3ade1c3ed4d1c8834a13a42-downloader10h&ts=5c5bfa880ec00&s=0470711dde652661b1b6e00ce4e2970695ca05419ffc6248ab88b12cdad8da2c&pb=U2FsdGVkX1_KLjPz-0574tSE_BOR7o_ynlV1K82jJTf0HH57sMtpkwIcwPAL9HoKkVRDe8WHtm_iKHA2lGjPVpKwypdmyctAJ1zZ5FF8eB8' },
    { id: 18, name: 'Курица', price: 100, delivery: true, img: 'https://s316vla.storage.yandex.net/rdisk/153685ac7417ad13ce4de166e47ff784f37d8f8b4116f10827c2bc8f2a84e9be/60d8828d/nQLlCqxfoRsiPC7jRyTMiVP2_QovC7kFnP_slhVgjJXfShZbhFCTdT9bhDMrJJRT0C0IB87CLdGGYHZ7zY3M1Q==?uid=808722472&filename=chicken.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=808722472&fsize=44209&hid=178a96c92ec2174ca594ddbd681228bd&media_type=image&tknv=v2&etag=b1fb539a4da73b8e63371fb1fa08e499&rtoken=m2oQWsOrPf0a&force_default=yes&ycrid=na-6925d16a81ec27a5e1f8b8cd9c127c91-downloader12e&ts=5c5bfae0bfd40&s=0dd26aca4e0a7afba1d98065f2b00d90eeab1ad90105352e8c47d5a366f554cd&pb=U2FsdGVkX1_V2D4tHYW31ryE8mlu9IkklQSdB3Mgk522_0zG4EiSOfICuALLBMAfXh2wqi4Fk3Pxq-KGRf2YY0O0AgvGCF4YAdb0_VvK6yA' }   
]

let orders = []

app.get('/getListCategory', (req, res) => {
    res.json(arrCategory)
})

app.get('/getProduct', (req, res) => {
    let id = +req.query.id
    let product = products.find((item) => item.id === id)
    res.json(product)
})

app.post('/order', (req, res) => {
    let order = req.body
    order.id = orders.length + 1    
    console.log(order)
    orders.push(order)
    res.status(200).json(order)
})

app.listen(process.env.PORT || 3000, () => { console.log('Example app listening on port 3000!') });